# Lychee configuration (compatible with v0.21+)
# See: https://github.com/lycheeverse/lychee/blob/main/lychee.example.toml

# Run in offline mode: only check local file links, skip HTTP requests
offline = true
max_concurrency = 4
include_verbatim = true

# Ignore generated/build/cache paths and archive directories with historical links.
#
# IMPORTANT: EN/DE locale directories are excluded because they contain
# incomplete translations with known broken links (85+ errors as of 2025-12-10).
# These are tracked in Archon project "PR #163 CodeRabbit Review Tasks":
# - Task: "Verify docs/academy deletions were intentional"
# - Status: Translations in progress, RU is canonical source
#
# TODO: Remove exclusions as translations are completed and links fixed
exclude_path = [
  "node_modules",
  "logs",
  ".git",
  # Archive directories - contain historical snapshots with outdated links
  "docs/archive",
  "docs/en/archive",
  "docs/de/archive",
  "docs/ru/archive",
  # EN/DE incomplete translations (85+ broken links - see note above)
  "docs/de/academy",
  "docs/en/academy",
  "docs/de/operations",
  "docs/en/operations",
  "docs/de/development",
  "docs/en/development",
  "docs/de/guides",
  "docs/en/guides",
  "docs/en/examples"
]

# Ignore endpoints that are environment/local-only or placeholders
exclude = [
  "http://localhost*",
  "https://localhost*",
  "http://127.0.0.1*",
  "http://192.168.*",
  "https://192.168.*",
  "http://nginx:*",
  "http://openwebui:*",
  "http://searxng:*",
  "http://ragflow:*",
  "http://redis:*",
  "redis://*",
  "http://localhost:PORT*",
  "http:/localhost:PORT*",
  "http://localhost:PORT/*",
  "https://example.com*",
  "https://your-domain*",
  "https://dash.cloudflare.com*",
  "https://ki.erni-gruppe.ch*",
  "https://grafana.ki.erni-gruppe.ch*",
  "https://prometheus.ki.erni-gruppe.ch*",
  "https://status.ki.erni-gruppe.ch*",
  "https://status.erni-ki.ch*",
  "https://docs.erni-ki.ch*",
  "https://docs.openwebui.com*",
  "https://docs.litellm.ai*",
  "https://commitlint.js.org*",
  "https://github.com/nginx/nginx/issues*",
  "https://github.com/DIZ-admin/erni-ki/discussions*",
  "security@erni-ki.local"
]
