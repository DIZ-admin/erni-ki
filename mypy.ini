[mypy]
python_version = 3.11
files = scripts, tests, conf
ignore_missing_imports = True
namespace_packages = True
explicit_package_bases = True
exclude = cache|data|tmp|logs|node_modules|compose/scripts|compose/conf|patches|docs/examples|docs/ru/examples|docs/en/examples|docs/de/examples|webhook-receiver
warn_return_any = True
warn_unused_configs = True

# === Critical modules with strict type checking ===
# Phase 1: Enable mypy for critical modules (2025-12 audit remediation)
# Note: webhook-receiver is excluded due to invalid Python package name (dash)
# Run separately: mypy --namespace-packages conf/webhook-receiver/webhook_handler.py

[mypy-scripts.lib.llm_client]
ignore_errors = False
disallow_untyped_defs = True
check_untyped_defs = True

[mypy-publicai]
ignore_errors = False
disallow_untyped_defs = True
check_untyped_defs = True

# === Remaining modules (gradual migration) ===
# TODO: Enable strict checking as modules are updated

[mypy-scripts.*]
ignore_errors = True

[mypy-conf.*]
ignore_errors = True

[mypy-ops.*]
ignore_errors = True

[mypy-tests.*]
ignore_errors = True

# === External dependencies ===

[mypy-requests.*]
ignore_missing_imports = True

[mypy-yaml]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-litellm.*]
ignore_missing_imports = True

[mypy-httpx.*]
ignore_missing_imports = True

[mypy-flask.*]
ignore_missing_imports = True

[mypy-werkzeug.*]
ignore_missing_imports = True
