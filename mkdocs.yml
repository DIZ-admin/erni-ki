# MkDocs configuration for erni-ki project
# Technical documentation generation

site_name: ERNI-KI Documentation
site_description: "ERNI-KI Project Documentation - AI platform with Open WebUI"
site_author: "ERNI-KI Team"
site_url: "https://docs.erni-gruppe.ch"

# Repository
repo_name: "DIZ-admin/erni-ki"
repo_url: "https://github.com/DIZ-admin/erni-ki"
edit_uri: "edit/main/docs/"

# Configuration
docs_dir: "docs"
site_dir: "site"

# Theme
theme:
  name: "material"
  language: "ru"

  # Color scheme
  palette:
    - scheme: default
      primary: "blue"
      accent: "light blue"
      toggle:
        icon: material/brightness-7
        name: Switch to dark mode
    - scheme: slate
      primary: "blue"
      accent: "light blue"
      toggle:
        icon: material/brightness-4
        name: Switch to light mode

  # Fonts
  font:
    text: "Roboto"
    code: "Roboto Mono"

  # Icons
  icon:
    repo: fontawesome/brands/github
    logo: material/robot

  # Features
  features:
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.sections
    - navigation.expand
    - navigation.path
    - navigation.indexes
    - toc.follow
    - toc.integrate
    - search.suggest
    - search.highlight
    - search.share
    - header.autohide
    - content.code.copy
    - content.code.annotate
    - content.tabs.link
    - content.tooltips
    - content.action.edit
    - content.action.view

# Plugins
plugins:
  - search:
      lang:
        - ru
        - de
        - en
  - awesome-pages
  - blog:
      blog_dir: news
      post_dir: news
      categories: true
      blog_toc: true
  - include-markdown
  - i18n:
      docs_structure: folder
      languages:
        - locale: ru
          default: true
          name: "Russian"
          site_name: "ERNI Academy KI"
          nav_translations:
            Home: Home
            "Platform Overview": "Platform Overview"
            "Quick Start": "Quick Start"
            "Installation": "Installation"
            "Configuration": "Configuration"
            "Users": "Users"
            "External Access": "External Access"
            "Local DNS": "Local DNS"
            "DNSMasq": "DNSMasq"
            "Port Forwarding": "Port Forwarding"
            Architecture: Architecture
            Overview: Overview
            "Services": "Services"
            "Inventory": "Inventory"
            "Nginx configuration": "Nginx configuration"
            Glossary: Glossary
            "Academy KI": "Academy KI"
            "Open WebUI Basics": "Open WebUI Basics"
            "Prompting 101": "Prompting 101"
            "HowTo": "HowTo"
            "Create JIRA Ticket": "Create JIRA Ticket"
            "Write Customer Email": "Write Customer Email"
            "Summarize Meeting": "Summarize Meeting"
            "News": "News"
            "Feed": "Feed"
            System: System
            "System Status": "System Status"
            "News (Archive)": "News (Archive)"
            "HowTo (Archive)": "HowTo (Archive)"
            "Create JIRA Description": "Create JIRA Description"
            "Summarize Meeting (Archive)": "Summarize Meeting (Archive)"
            "Customer Email in OpenWebUI": "Customer Email in OpenWebUI"
            "Trainings (Archive)": "Trainings (Archive)"
            Operations: Operations
            "CI Health": "CI health"
            "GitHub Governance": "GitHub governance"
            "Monitoring Audit": "Monitoring audit"
            "Documentation Audit": "Documentation audit"
            "Operations Handbook": "Operations Handbook"
            "Admin Guide": "Admin Guide"
            "Status Page": "Status page"
            Monitoring: Monitoring
            "Monitoring Guide": "Monitoring Guide"
            "Monitoring Playbook": "Monitoring Playbook"
            "Monitoring Troubleshooting": "Monitoring Troubleshooting"
            "Grafana Dashboards": "Grafana dashboards"
            "Prometheus Alerts Guide": "Prometheus alerts guide"
            "Prometheus Queries Reference": "Prometheus queries reference"
            Automation: Automation
            "Automated Maintenance": "Automated maintenance"
            "Backup Guide": "Backup Guide"
            "Docker Cleanup": "Docker cleanup"
            "Docker Log Rotation": "Docker log rotation"
            "Image Upgrade Checklist": "Image upgrade checklist"
            "RAG & Search": "RAG & Search"
            "RAG Monitoring": "RAG monitoring"
            "SearXNG Redis Troubleshooting": "SearXNG Redis troubleshooting"
            Runbooks: Runbooks
            "Backup & Restore": "Backup & Restore"
            "Configuration Changes": "Configuration changes"
            "Docling Shared Volume": "Docling Shared Volume"
            "Access Log Sync & Fluent Bit": "Access log sync & Fluent Bit"
            "Service Restart": "Service Restart"
            "Alertmanager Noise Reduction": "Alertmanager noise reduction"
            "Troubleshooting": "Troubleshooting"
            "Runbooks (DE Summary)": "Runbooks (DE Summary)"
            Diagnostics: Diagnostics
            "Diagnostics Overview": "Diagnostics Overview"
            "Diagnostic Methodology": "Diagnostic methodology"
            "Troubleshooting Guide": "Troubleshooting guide"
            "Data & Storage": "Data & Storage"
            "Database Monitoring Plan": "Database monitoring plan"
            "Database Optimizations": "Database optimizations"
            "Database Troubleshooting": "Database troubleshooting"
            "Redis Monitoring": "Redis monitoring"
            "Redis Operations": "Redis operations"
            "VLLM Resource Optimization": "VLLM resource optimization"
            Security: Security
            "Security Policy": "Security policy"
            "Log Audit": "Log audit"
            "Reference": "Reference"
            "API Reference": "API reference"
            Development: Development
            "GitHub Environments": "GitHub environments"
            "MCPO Integration": "MCPO integration"
            "Pre-commit Hooks": "Pre-commit hooks"
            "Documentation Refactoring Plan": "Documentation refactoring plan"
            "Status Snippet": "Status snippet"
            VERSION: VERSION
            CHANGELOG: CHANGELOG
            "Reports & Archive": "Reports & Archive"
            "Archive Overview": "Archive Overview"
            "Archive READMEs": "Archive READMEs"
            Audits: Audits
            "Legacy Index": "Legacy index"
            "Legacy Academy Index": "Legacy academy index"
            "Incidents & Remediation": "Incidents & Remediation"
            "Config Archives": "Config Archives"
            Other: Other
            "Remote Branch Cleanup": "Remote branch cleanup"
        - locale: de
          name: "Deutsch"
          nav_translations:
            Home: Startseite
            "Platform Overview": "Plattformübersicht"
            "Quick Start": "Schnellstart"
            "Installation": "Installation"
            "Configuration": "Konfiguration"
            "Users": "Benutzer"
            "External Access": "Externer Zugriff"
            "Local DNS": "Lokales DNS"
            "DNSMasq": "DNSMasq"
            "Port Forwarding": "Portweiterleitung"
            Architecture: Architektur
            Overview: Übersicht
            "Services": "Dienste"
            "Inventory": "Inventar"
            "Nginx configuration": "Nginx-Konfiguration"
            Glossary: Glossar
            "Academy KI": "Academy KI"
            "Open WebUI Basics": "Open WebUI Grundlagen"
            "Prompting 101": "Prompting 101"
            "HowTo": "HowTo"
            "Create JIRA Ticket": "JIRA-Ticket erstellen"
            "Write Customer Email": "Kunden-E-Mail schreiben"
            "Summarize Meeting": "Meeting zusammenfassen"
            "News": "News"
            "Feed": "Feed"
            System: System
            "System Status": "Systemstatus"
            "News (Archive)": "News (Archiv)"
            "HowTo (Archive)": "HowTo (Archiv)"
            "Create JIRA Description": "JIRA-Beschreibung erstellen"
            "Summarize Meeting (Archive)": "Meeting zusammenfassen (Archiv)"
            "Customer Email in OpenWebUI": "Kunden-E-Mail in OpenWebUI"
            "Trainings (Archive)": "Schulungen (Archiv)"
            Operations: Betrieb
            "CI Health": "CI-Gesundheit"
            "GitHub Governance": "GitHub-Governance"
            "Monitoring Audit": "Monitoring-Audit"
            "Documentation Audit": "Dokumentations-Audit"
            "Operations Handbook": "Betriebshandbuch"
            "Admin Guide": "Admin-Handbuch"
            "Status Page": "Statusseite"
            Monitoring: Monitoring
            "Monitoring Guide": "Monitoring-Leitfaden"
            "Monitoring Playbook": "Monitoring-Runbook"
            "Monitoring Troubleshooting": "Monitoring-Fehlerbehebung"
            "Grafana Dashboards": "Grafana-Dashboards"
            "Prometheus Alerts Guide": "Prometheus-Alarm-Leitfaden"
            "Prometheus Queries Reference": "Prometheus-Abfrage-Referenz"
            Automation: Automatisierung
            "Automated Maintenance": "Automatisierte Wartung"
            "Backup Guide": "Backup-Leitfaden"
            "Docker Cleanup": "Docker-Bereinigung"
            "Docker Log Rotation": "Docker-Log-Rotation"
            "Image Upgrade Checklist": "Image-Upgrade-Checkliste"
            "RAG & Search": "RAG & Suche"
            "RAG Monitoring": "RAG-Monitoring"
            "SearXNG Redis Troubleshooting": "SearXNG Redis Fehlerbehebung"
            Runbooks: Runbooks
            "Backup & Restore": "Backup & Wiederherstellung"
            "Configuration Changes": "Konfigurationsänderungen"
            "Docling Shared Volume": "Docling Shared Volume"
            "Access Log Sync & Fluent Bit": "Access Log Sync & Fluent Bit"
            "Service Restart": "Dienst-Neustart"
            "Alertmanager Noise Reduction": "Alertmanager-Rauschunterdrückung"
            "Troubleshooting": "Fehlerbehebung"
            "Runbooks (DE Summary)": "Runbooks (DE Kurzübersicht)"
            Diagnostics: Diagnose
            "Diagnostics Overview": "Diagnose-Übersicht"
            "Diagnostic Methodology": "Diagnose-Methodik"
            "Troubleshooting Guide": "Fehlerbehebungs-Leitfaden"
            "Data & Storage": "Daten & Speicher"
            "Database Monitoring Plan": "Datenbank-Monitoring-Plan"
            "Database Optimizations": "Datenbank-Optimierungen"
            "Database Troubleshooting": "Datenbank-Fehlerbehebung"
            "Redis Monitoring": "Redis-Monitoring"
            "Redis Operations": "Redis-Betrieb"
            "VLLM Resource Optimization": "VLLM-Ressourcenoptimierung"
            Security: Sicherheit
            "Security Policy": "Sicherheitsrichtlinie"
            "Log Audit": "Log-Audit"
            "Reference": "Referenz"
            "API Reference": "API-Referenz"
            Development: Entwicklung
            "GitHub Environments": "GitHub-Umgebungen"
            "MCPO Integration": "MCPO-Integration"
            "Pre-commit Hooks": "Pre-commit-Hooks"
            "Documentation Refactoring Plan": "Dokumentations-Refactoring-Plan"
            "Status Snippet": "Status-Snippet"
            VERSION: VERSION
            CHANGELOG: CHANGELOG
            "Reports & Archive": "Berichte & Archiv"
            "Archive Overview": "Archiv-Übersicht"
            "Archive READMEs": "Archiv-READMEs"
            Audits: Audits
            "Legacy Index": "Legacy-Index"
            "Legacy Academy Index": "Legacy-Academy-Index"
            "Incidents & Remediation": "Vorfälle & Behebung"
            "Config Archives": "Konfigurationsarchive"
            Other: Sonstiges
            "Remote Branch Cleanup": "Remote-Branch-Bereinigung"
        - locale: en
          name: "English"
  - git-revision-date-localized:
      type: datetime
      locale: ru
      enable_parallel_processing: false
  - minify:
      minify_html: true

# Markdown Extensions
markdown_extensions:
  # Python Markdown
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - md_in_html
  - toc:
      permalink: true
      title: "Table of Contents"

  # Python Markdown Extensions
  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.caret
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:material.extensions.emoji.twemoji
      emoji_generator: !!python/name:material.extensions.emoji.to_svg
  - pymdownx.highlight:
      anchor_linenums: true
      line_spans: __span
      pygments_lang_class: true
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.magiclink:
      repo_url_shorthand: true
      user: DIZ-admin
      repo: erni-ki
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.tilde

# Extra CSS and JS
extra_css:
  - stylesheets/extra.css

extra_javascript:
  - javascripts/mathjax.js
  - https://polyfill.io/v3/polyfill.min.js?features=es6
  - https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js

# Extra settings
extra:
  version:
    provider: mike
  social:
    - icon: fontawesome/brands/github
      link: https://github.com/DIZ-admin/erni-ki
    - icon: fontawesome/brands/docker
      link: https://github.com/DIZ-admin/erni-ki/pkgs/container/erni-ki%2Fauth
  alternate:
    - name: "Russian"
      link: /
      lang: ru
    - name: "Deutsch"
      link: /de/
      lang: de
    - name: "English"
      link: /en/
      lang: en
  analytics:
    provider: google
    property: G-XXXXXXXXXX
  consent:
    title: Cookie Consent
    description: >-
      We use cookies to improve documentation and analytics.
      With your consent, this helps us improve the documentation.

# Navigation Structure
nav:
  - Home: index.md
  - "Platform Overview": overview.md
  - "Quick Start":
      - "Overview": getting-started/README.md
      - "Installation": getting-started/installation.md
      - "Configuration": getting-started/configuration-guide.md
      - "Users": getting-started/user-guide.md
      - "External Access": getting-started/external-access-setup.md
      - "Local DNS": getting-started/local-network-dns-setup.md
      - "DNSMasq": getting-started/dnsmasq-setup-instructions.md
      - "Port Forwarding": getting-started/port-forwarding-setup.md
  - Architecture:
      - "Overview (README)": architecture/README.md
      - Overview: architecture/architecture.md
      - "Services": architecture/services-overview.md
      - "Inventory": architecture/service-inventory.md
      - "Nginx configuration": architecture/nginx-configuration.md
  - Glossary: GLOSSARY.md
  - "Academy KI":
      - Overview: academy/index.md
      - "Open WebUI Basics": academy/openwebui-basics.md
      - "Prompting 101": academy/prompting-101.md
      - "HowTo":
          - Overview: academy/howto/index.md
          - "Create JIRA Ticket": academy/howto/create-jira-ticket.md
          - "Write Customer Email": academy/howto/write-customer-email.md
          - "Summarize Meeting": academy/howto/summarize-meeting-notes.md
          - "Create JIRA Ticket": academy/howto/create-jira-ticket-with-ai.md
      - "News":
          - Feed: academy/news/index.md
          - "2025-01-release-x": academy/news/2025-01-release-x.md
  - System:
      - "System Status": system/status.md
  - "News (Archive)":
      - Overview: archive/news-overview.md
      - Feed: news/index.md
  - "HowTo (Archive)":
      - "Create JIRA Description": archive/howto/create-jira-description-with-ai.md
      - "Summarize Meeting (Archive)": archive/howto/summarize-meeting-notes.md
      - "Customer Email in OpenWebUI": archive/howto/write-customer-email-with-openwebui.md
  - "Trainings (Archive)":
      - "Open WebUI Basics": archive/training/openwebui-basics.md
      - "Prompting 101": archive/training/prompting-101.md
  - Operations:
      - "Overview": operations/README.md
      - "CI Health": operations/ci-health.md
      - "GitHub Governance": operations/github-governance.md
      - "Monitoring Audit": operations/monitoring-audit.md
      - "Documentation Audit": operations/documentation-audit.md
      - "Operations Handbook": operations/operations-handbook.md
      - "Admin Guide": operations/admin-guide.md
      - "Status Page": operations/status-page.md
      - Monitoring:
          - "Monitoring Guide": operations/monitoring-guide.md
          - "Monitoring Playbook": operations/monitoring.md
          - "Monitoring Troubleshooting": operations/monitoring-troubleshooting-v2.md
          - "Grafana Dashboards": operations/grafana-dashboards-guide.md
          - "Prometheus Alerts Guide": operations/prometheus-alerts-guide.md
          - "Prometheus Queries Reference": operations/prometheus-queries-reference.md
      - Automation:
          - "Automated Maintenance": operations/automated-maintenance-guide.md
          - "Backup Guide": operations/backup-guide.md
          - "Docker Cleanup": operations/docker-cleanup-guide.md
          - "Docker Log Rotation": operations/docker-log-rotation.md
          - "Image Upgrade Checklist": operations/image-upgrade-checklist.md
      - "RAG & Search":
          - "RAG Monitoring": operations/rag-monitoring.md
          - "SearXNG Redis Troubleshooting": operations/searxng-redis-issue-analysis.md
      - Runbooks:
          - "Runbooks Overview": operations/runbooks/README.md
          - "Runbooks Summary": operations/runbooks-summary.md
          - "Backup & Restore": operations/runbooks/backup-restore-procedures.md
          - "Configuration Changes": operations/runbooks/configuration-change-process.md
          - "Docling Shared Volume": operations/runbooks/docling-shared-volume.md
          - "Access Log Sync & Fluent Bit": operations/runbooks/access-log-sync-and-fluentbit.md
          - "Service Restart": operations/runbooks/service-restart-procedures.md
          - "Alertmanager Noise Reduction": operations/runbooks/alertmanager-noise-reduction.md
          - "Troubleshooting": operations/runbooks/troubleshooting-guide.md
      - Diagnostics:
          - "Diagnostics Overview": operations/diagnostics/README.md
          - "Diagnostic Methodology": operations/diagnostics/erni-ki-diagnostic-methodology.md
      - "Troubleshooting Guide": operations/troubleshooting.md
  - "Data & Storage":
      - Overview: data/README.md
      - "Database Monitoring Plan": data/database-monitoring-plan.md
      - "Database Optimizations": data/database-production-optimizations.md
      - "Database Troubleshooting": data/database-troubleshooting.md
      - "Redis Monitoring": data/redis-monitoring-grafana.md
      - "Redis Operations": data/redis-operations-guide.md
      - "VLLM Resource Optimization": data/vllm-resource-optimization.md
  - Security:
      - "Overview": security/README.md
      - "Security Policy": security/security-policy.md
      - "Authentication": security/authentication.md
      - "Security Best Practices": security/security-best-practices.md
      - "SSL/TLS Setup": security/ssl-tls-setup.md
      - "Log Audit": security/log-audit.md
  - Reference:
      - "Overview": reference/README.md
      - "API Reference": reference/api-reference.md
      - Development: reference/development.md
      - "GitHub Environments": reference/github-environments-setup.md
      - "MCPO Integration": reference/mcpo-integration-guide.md
      - "Pre-commit Hooks": reference/pre-commit-hooks.md
      - "Documentation Refactoring Plan": reference/documentation-refactoring-plan.md
      - "Status Snippet": reference/status-snippet.md
      - "Language Policy": reference/language-policy.md
      - VERSION: VERSION.md
      - CHANGELOG: reference/CHANGELOG.md

  - "Reports & Archive":
      - "Archive Overview": archive/README.md
      - "Archive READMEs":
          - archive/audits/README.md
          - archive/diagnostics/README.md
          - archive/incidents/README.md
          - archive/diagnostics/system-diagnostics-2025-11-18.md
      - Audits:
          - "documentation-audit (2025-10-24)": archive/audits/documentation-audit-2025-10-24.md
          - "documentation-cleanup-audit (2025-10-24)": archive/audits/documentation-cleanup-audit-2025-10-24.md
          - "documentation-cleanup-summary (2025-10-24)": archive/audits/documentation-cleanup-summary-2025-10-24.md
          - "best-practices-audit (2025-10-20)": archive/audits/best-practices-audit-2025-10-20.md
          - "comprehensive-audit (2025-10-14)": archive/audits/comprehensive-audit-2025-10-14.md
          - "comprehensive-project-audit (2025-10-17)": archive/audits/comprehensive-project-audit-2025-10-17.md
          - "comprehensive-project-audit part 2 (2025-10-17)": archive/audits/comprehensive-project-audit-2025-10-17-part2.md
          - "legacy index": archive/legacy-index.md
          - "legacy academy index": archive/legacy-academy-index.md
      - Diagnostics:
          - "Full server diagnostics (2025-11-04)": archive/diagnostics/full-server-diagnostics-2025-11-04.md
          - "RAG system diagnostic (2025-10-30)": archive/diagnostics/rag-system-diagnostic-report-20251030.md
          - "RAG vector search test (2025-10-30)": archive/diagnostics/rag-vector-search-test-report-20251030.md
          - "Log analysis correction (2025-11-04)": archive/diagnostics/log-analysis-correction-2025-11-04.md
      - "Incidents & Remediation":
          - "Phase 1 critical fixes (2025-10-30)": archive/incidents/phase1-critical-fixes-report-20251030.md
          - "Project audit remediation (2025-10-30)": archive/incidents/project-audit-report-20251030.md
          - "Docx upload fix (2025-10-30)": archive/incidents/docx-upload-fix-20251030.md
          - "Phase 2 completion (2025-11-04)": archive/incidents/phase-2-completion-2025-11-04.md
          - "System repair (2025-10-16)": archive/incidents/system-repair-2025-10-16.md
      - "Config Archives":
          - "Update execution report": archive/config-backup/update-execution-report-2025-10-02.md
          - "Monitoring report": archive/config-backup/monitoring-report-2025-10-02.md
          - "Update analysis": archive/config-backup/update-analysis-2025-10-02.md

# Validation Settings
validation:
  omitted_files: warn
  absolute_links: warn
  unrecognized_links: warn

# Build Settings
strict: false
use_directory_urls: true
