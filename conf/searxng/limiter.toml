# SearXNG Rate Limiter Configuration
# Optimized for internal Docker network usage

[botdetection.ip_limit]
# Disable link token requirement for API access
link_token = false
# Don't filter link-local addresses
filter_link_local = false

[botdetection.ip_lists]
# Whitelist internal Docker networks and localhost
pass_ip = [
    '127.0.0.0/8',      # localhost
    '10.0.0.0/8',       # Docker internal
    '172.16.0.0/12',    # Docker bridge networks (172.16-31.x.x)
    '192.168.0.0/16',   # Local network
]
pass_searxng_org = true

# Trusted proxies configuration (replaces deprecated real_ip section)
[botdetection]
trusted_proxies = [
    '127.0.0.0/8',
    '10.0.0.0/8',
    '172.16.0.0/12',
    '192.168.0.0/16',
]
