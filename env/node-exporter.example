# Node Exporter Configuration for ERNI-KI
# System metrics exporter for Prometheus

# === Basics ===
# Web listen address
NODE_EXPORTER_WEB_LISTEN_ADDRESS=0.0.0.0:9100
# Metrics path
NODE_EXPORTER_WEB_TELEMETRY_PATH=/metrics

# === Collectors (enabled) ===
# System info
NODE_EXPORTER_COLLECTOR_UNAME=true
# CPU info
NODE_EXPORTER_COLLECTOR_CPU=true
# Memory info
NODE_EXPORTER_COLLECTOR_MEMINFO=true
# Disk stats
NODE_EXPORTER_COLLECTOR_DISKSTATS=true
# Filesystem info
NODE_EXPORTER_COLLECTOR_FILESYSTEM=true
# Network stats
NODE_EXPORTER_COLLECTOR_NETSTAT=true
# Network interfaces
NODE_EXPORTER_COLLECTOR_NETDEV=true
# Load average
NODE_EXPORTER_COLLECTOR_LOADAVG=true
# Uptime
NODE_EXPORTER_COLLECTOR_UPTIME=true

# === Collectors (disabled) ===
# Disable processes collector (heavy)
NODE_EXPORTER_COLLECTOR_PROCESSES=false
# Disable systemd collector (not needed in Docker)
NODE_EXPORTER_COLLECTOR_SYSTEMD=false

# === Filesystem filters ===
# Ignore temporary filesystems
NODE_EXPORTER_COLLECTOR_FILESYSTEM_IGNORED_FS_TYPES=^(autofs|binfmt_misc|bpf|cgroup2?|configfs|debugfs|devpts|devtmpfs|fusectl|hugetlbfs|iso9660|mqueue|nsfs|overlay|proc|procfs|pstore|rpc_pipefs|securityfs|selinuxfs|squashfs|sysfs|tracefs)$
# Ignore system mount points
NODE_EXPORTER_COLLECTOR_FILESYSTEM_IGNORED_MOUNT_POINTS=^/(dev|proc|run|sys|var/lib/docker/.+)($|/)

# === Logging ===
# Log level
NODE_EXPORTER_LOG_LEVEL=info
# Log format
NODE_EXPORTER_LOG_FORMAT=logfmt

# === Performance ===
# Max concurrent requests
NODE_EXPORTER_WEB_MAX_REQUESTS=40
# Collector timeout
NODE_EXPORTER_COLLECTOR_TIMEOUT=10s
