# cAdvisor Configuration for ERNI-KI
# Docker container monitoring

# === Basics ===
# Web UI port
CADVISOR_PORT=8080
# Metrics interval (seconds)
CADVISOR_HOUSEKEEPING_INTERVAL=10s
# Max housekeeping interval
CADVISOR_MAX_HOUSEKEEPING_INTERVAL=15s

# === Storage ===
# In-memory retention (2 minutes)
CADVISOR_STORAGE_DURATION=2m0s
# Disable local storage (Prometheus used)
CADVISOR_DISABLE_METRICS=disk,network,tcp,udp,percpu,sched,process

# === Docker ===
# Docker socket path
CADVISOR_DOCKER_SOCKET=/var/run/docker.sock
# Only Docker containers
CADVISOR_DOCKER_ONLY=true
# Include Docker labels in metrics
CADVISOR_STORE_CONTAINER_LABELS=true

# === Performance ===
# Disable heavy filesystem stats
CADVISOR_DISABLE_ROOT_CGROUP_STATS=false
# Enable profiling
CADVISOR_PROFILING=false
# Max processes to monitor
CADVISOR_MAX_PROCS=5000

# === Logging ===
# Log level
CADVISOR_LOG_LEVEL=INFO
# Log to stderr
CADVISOR_LOGTOSTDERR=true

# === Security ===
# Disable auth for internal network
CADVISOR_HTTP_AUTH_FILE=
# Disable HTTPS
CADVISOR_HTTP_DIGEST_FILE=

# === Metrics ===
# Prometheus endpoint
CADVISOR_PROMETHEUS_ENDPOINT=/metrics
# Disable unused metrics
CADVISOR_DISABLE_METRICS=percpu,sched,tcp,udp,disk,diskIO,accelerator

# === Resources ===
# Memory limit
CADVISOR_MEMORY_LIMIT=256M
# CPU limit
CADVISOR_CPU_LIMIT=0.5
