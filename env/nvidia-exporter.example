# NVIDIA GPU Exporter Configuration для ERNI-KI
# Мониторинг GPU метрик для Prometheus

# === Основные настройки ===
# Порт для метрик
NVIDIA_EXPORTER_WEB_LISTEN_ADDRESS=0.0.0.0:9445
# Путь к метрикам
NVIDIA_EXPORTER_WEB_TELEMETRY_PATH=/metrics

# === GPU настройки ===
# Интервал сбора метрик GPU (секунды)
NVIDIA_EXPORTER_QUERY_INTERVAL=5
# Включить детальные метрики процессов
NVIDIA_EXPORTER_QUERY_FIELD_NAMES=AUTO
# Включить метрики температуры
NVIDIA_EXPORTER_QUERY_GPU_TEMP=true

# === Метрики ===
# Собирать метрики использования GPU
NVIDIA_EXPORTER_COLLECT_GPU_UTILIZATION=true
# Собирать метрики памяти GPU
NVIDIA_EXPORTER_COLLECT_GPU_MEMORY=true
# Собирать метрики температуры
NVIDIA_EXPORTER_COLLECT_GPU_TEMPERATURE=true
# Собирать метрики энергопотребления
NVIDIA_EXPORTER_COLLECT_GPU_POWER=true
# Собирать метрики процессов на GPU
NVIDIA_EXPORTER_COLLECT_GPU_PROCESSES=true

# === Производительность ===
# Таймаут для запросов к nvidia-ml
NVIDIA_EXPORTER_NVIDIA_ML_TIMEOUT=5s
# Максимальное количество одновременных запросов
NVIDIA_EXPORTER_MAX_CONCURRENT_REQUESTS=10

# === Логирование ===
# Уровень логирования
NVIDIA_EXPORTER_LOG_LEVEL=info
# Формат логов
NVIDIA_EXPORTER_LOG_FORMAT=logfmt
# Логировать в stdout
NVIDIA_EXPORTER_LOG_OUTPUT=stdout

# === Безопасность ===
# Отключить аутентификацию для внутренней сети
NVIDIA_EXPORTER_WEB_CONFIG_FILE=
# Отключить TLS
NVIDIA_EXPORTER_WEB_TLS_CERT_FILE=
NVIDIA_EXPORTER_WEB_TLS_KEY_FILE=

# === NVIDIA Runtime ===
# Видимые GPU устройства
NVIDIA_VISIBLE_DEVICES=all
# Возможности драйвера
NVIDIA_DRIVER_CAPABILITIES=compute,utility,monitoring

# === Специфичные метрики ===
# Включить метрики для профессиональных GPU
NVIDIA_EXPORTER_COLLECT_QUADRO_METRICS=true
# Мониторинг ECC ошибок
NVIDIA_EXPORTER_COLLECT_ECC_ERRORS=true
# Метрики производительности
NVIDIA_EXPORTER_COLLECT_PERFORMANCE_STATE=true
