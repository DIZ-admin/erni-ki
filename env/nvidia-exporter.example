# NVIDIA GPU Exporter Configuration for ERNI-KI
# GPU metrics for Prometheus

# === Basics ===
# Metrics port
NVIDIA_EXPORTER_WEB_LISTEN_ADDRESS=0.0.0.0:9445
# Metrics path
NVIDIA_EXPORTER_WEB_TELEMETRY_PATH=/metrics

# === GPU settings ===
# GPU metrics interval (seconds)
NVIDIA_EXPORTER_QUERY_INTERVAL=5
# Include process field names
NVIDIA_EXPORTER_QUERY_FIELD_NAMES=AUTO
# Include temperature metrics
NVIDIA_EXPORTER_QUERY_GPU_TEMP=true

# === Metrics ===
# Collect GPU utilization
NVIDIA_EXPORTER_COLLECT_GPU_UTILIZATION=true
# Collect GPU memory
NVIDIA_EXPORTER_COLLECT_GPU_MEMORY=true
# Collect GPU temperature
NVIDIA_EXPORTER_COLLECT_GPU_TEMPERATURE=true
# Collect GPU power
NVIDIA_EXPORTER_COLLECT_GPU_POWER=true
# Collect GPU process metrics
NVIDIA_EXPORTER_COLLECT_GPU_PROCESSES=true

# === Performance ===
# nvidia-ml query timeout
NVIDIA_EXPORTER_NVIDIA_ML_TIMEOUT=5s
# Max concurrent requests
NVIDIA_EXPORTER_MAX_CONCURRENT_REQUESTS=10

# === Logging ===
# Log level
NVIDIA_EXPORTER_LOG_LEVEL=info
# Log format
NVIDIA_EXPORTER_LOG_FORMAT=logfmt
# Output to stdout
NVIDIA_EXPORTER_LOG_OUTPUT=stdout

# === Security ===
# Disable auth (internal network)
NVIDIA_EXPORTER_WEB_CONFIG_FILE=
# Disable TLS
NVIDIA_EXPORTER_WEB_TLS_CERT_FILE=
NVIDIA_EXPORTER_WEB_TLS_KEY_FILE=

# === NVIDIA Runtime ===
# Visible GPUs
NVIDIA_VISIBLE_DEVICES=all
# Driver capabilities
NVIDIA_DRIVER_CAPABILITIES=compute,utility,monitoring

# === Specific metrics ===
# Enable metrics for pro GPUs
NVIDIA_EXPORTER_COLLECT_QUADRO_METRICS=true
# ECC error monitoring
NVIDIA_EXPORTER_COLLECT_ECC_ERRORS=true
# Метрики производительности
NVIDIA_EXPORTER_COLLECT_PERFORMANCE_STATE=true
