# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ERNI-KI

**–î–∞—Ç–∞:** 2025-11-25 **–ê—É–¥–∏—Ç–æ—Ä:** Senior Full-Stack Engineer **Scope:** –ü–æ–ª–Ω–∞—è
–∏–Ω—Å–ø–µ–∫—Ü–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞

---

## üìã Executive Summary

–ü—Ä–æ–≤–µ–¥–µ–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∏–Ω—Å–ø–µ–∫—Ü–∏—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ ERNI-KI.
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ **40+ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** –≤–∫–ª—é—á–∞—è Docker, CI/CD, linter,
formatter, security, testing, –∏ documentation –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏:

- ‚úÖ **–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∑—Ä–µ–ª–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏
  –ø—Ä–∞–∫—Ç–∏–∫–∏
- ‚ö†Ô∏è **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è –≤ git** - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è
  –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** - multiple security scanners
  configured
- ‚úÖ **–û—Ç–ª–∏—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - multi-language support —Å MkDocs

---

## üèóÔ∏è 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 1.1 Docker & Compose

#### `compose.yml` (1274 —Å—Ç—Ä–æ–∫–∏, 44KB)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Excellent

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **30+ —Å–µ—Ä–≤–∏—Å–æ–≤** –ø–æ–ª–Ω–æ—Å—Ç—å—é –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω—ã
- **4-tier logging strategy** (critical/important/auxiliary/monitoring)
- **GPU support** –¥–ª—è Ollama, OpenWebUI, Docling
- **Health checks** –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **Resource limits** –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- **Docker Secrets** –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**

```
Critical Tier (Tier 1):
‚îú‚îÄ‚îÄ OpenWebUI (main interface)
‚îú‚îÄ‚îÄ Ollama (LLM server)
‚îú‚îÄ‚îÄ PostgreSQL (pgvector)
‚îî‚îÄ‚îÄNginx (reverse proxy)

Important Tier (Tier 2):
‚îú‚îÄ‚îÄ SearXNG (search)
‚îú‚îÄ‚îÄ Redis (cache)
‚îú‚îÄ‚îÄ Backrest (backup)
‚îú‚îÄ‚îÄ Auth (JWT service)
‚îî‚îÄ‚îÄ Cloudflared (tunnel)

Auxiliary Tier (Tier 3):
‚îú‚îÄ‚îÄ Docling (OCR/ingestion)
‚îú‚îÄ‚îÄ EdgeTTS (speech)
‚îú‚îÄ‚îÄ Tika (file processing)
‚îî‚îÄ‚îÄ MCPO Server

Monitoring Tier (Tier 4):
‚îú‚îÄ‚îÄ Prometheus
‚îú‚îÄ‚îÄ Grafana
‚îú‚îÄ‚îÄ Alertmanager
‚îú‚îÄ‚îÄ Loki
‚îú‚îÄ‚îÄ Node Exporter
‚îú‚îÄ‚îÄ cAdvisor
‚îî‚îÄ‚îÄ Uptime Kuma
```

**Logging Configuration:**

```yaml
# 4 —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
x-critical-logging: # OpenWebUI, Ollama, PostgreSQL, Nginx
x-important-logging: # SearXNG, Redis, Auth, Cloudflared
x-auxiliary-logging: # Docling, EdgeTTS, Tika, MCP
x-monitoring-logging: # Prometheus, Grafana, Exporters
```

**GPU Management:**

```yaml
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è RTX 5000 (16GB VRAM)
Ollama: 24GB RAM, 12 CPU cores, -900 OOM score
OpenWebUI: 8GB RAM, 4 CPU cores, -600 OOM score
Docling: 12GB RAM, 8 CPU cores, -500 OOM score
LiteLLM: 12GB RAM, 1 CPU core, -300 OOM score
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:**

- ‚ö†Ô∏è **Watchtower auto-updates** –≤–∫–ª—é—á–µ–Ω—ã –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –∫—Ä–æ–º–µ
  –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö (DB, Ollama, Nginx)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **pinned versions/digests** –¥–ª—è production —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `latest` tag (Redis: `redis:7-alpine`)

#### `Dockerfiles` (4 —Ñ–∞–π–ª–∞ –Ω–∞–π–¥–µ–Ω–æ)

**–§–∞–π–ª—ã:**

1. `auth/Dockerfile` - Go authentication service
2. `conf/Dockerfile.rag-exporter` - RAG exporter
3. `conf/webhook-receiver/Dockerfile` - Webhook receiver
4. `ops/ollama-exporter/Dockerfile` - Ollama metrics exporter

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Multi-stage builds –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≥–¥–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ

### 1.2 Nginx Configuration

#### `conf/nginx/nginx.conf` (209 —Å—Ç—Ä–æ–∫)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production-ready

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **Correlation ID tracking** —Å X-Request-ID header
- **Rate limiting** –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–æ–Ω:
  ```
  general: 50 req/s
  api: 30 req/s
  static: 100 req/s
  auth: 5 req/s
  searxng_api: 60 req/s
  litellm_api: 10 req/s
  ```
- **Gzip compression** —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
- **Proxy caching** –¥–ª—è static assets –∏ SearXNG
- **Real IP configuration** –¥–ª—è Cloudflare
- **WebSocket support** –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- **Structured logging** —Å JSON —Ñ–æ—Ä–º–∞—Ç–æ–º –¥–ª—è rate limits

**Performance optimizations:**

```nginx
worker_processes auto;
worker_rlimit_nofile 262144;
worker_connections 16384;  # Up from 8192
use epoll; # Linux optimization
multi_accept on;
```

**Logging Strategy:**

```nginx
# 4 —Ç–∏–ø–∞ –ª–æ–≥–æ–≤:
1. access.log - standard access logs
2. rate_limit.log - JSON logs –¥–ª—è 429 responses
3. upstream_errors.log - 5xx errors —Å correlation ID
4. searxng_detailed - SearXNG specific issues
```

**–ù–∞—Ö–æ–¥–∫–∏:**

- ‚úÖ Excellent production configuration
- ‚ö†Ô∏è DNS resolver –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Docker internal (`127.0.0.11`) - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç
  Docker DNS

### 1.3 Environment Variables & Secrets

**Environment Files (50 —Ñ–∞–π–ª–æ–≤ –≤ `env/`):**

```
–°—Ç—Ä—É–∫—Ç—É—Ä–∞: service.env + service.example
- 25 —Å–µ—Ä–≤–∏—Å–æ–≤ —Å dedicated env —Ñ–∞–π–ª–∞–º–∏
- –ö–∞–∂–¥—ã–µ —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç .example template
```

**Docker Secrets (34 —Ñ–∞–π–ª–∞ –≤ `secrets/`):**

```
–ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã:
- postgres_password.txt
- litellm_master_key.txt
- openwebui_secret_key.txt
- grafana_admin_password.txt
- slack_alert_webhook.txt
- pagerduty_routing_key.txt
+ API keys –¥–ª—è OpenAI, Anthropic, Google, Context7, PublicAI
```

**–û—Ü–µ–Ω–∫–∞:**

- ‚úÖ –•–æ—Ä–æ—à–∞—è –∏–∑–æ–ª—è—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- ‚úÖ `.example` —Ñ–∞–π–ª—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚ö†Ô∏è `secrets/README.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (7.3KB)

---

## ‚öôÔ∏è 2. CI/CD –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 2.1 GitHub Actions

#### `.github/workflows/` (6 workflows)

**1. `ci.yml` (463 —Å—Ç—Ä–æ–∫–∏) - –û—Å–Ω–æ–≤–Ω–æ–π CI pipeline**

```yaml
Jobs:
1. lint - Code quality (Python + JS/TS)
2. test-go - Go service testing
3. test-js - Vitest + Playwright E2E
4. go-lint - golangci-lint
5. security - Gosec + Trivy scanning
6. link-check - Documentation links
7. metadata-validation - Docs metadata
8. docs-build - MkDocs build
9. docker-build - Multi-arch Docker image
10. notify - Results notification
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ **Parallel execution** —Å dependency chains
- ‚úÖ **Artifact upload** –¥–ª—è coverage reports
- ‚úÖ **SARIF upload** –¥–ª—è security findings
- ‚úÖ **Docker multi-arch builds** (amd64, arm64)
- ‚úÖ **Codecov integration**

**2. `security.yml` (349 —Å—Ç—Ä–æ–∫) - Security analysis**

```yaml
Jobs:
1. codeql - Go & JavaScript analysis
2. dependency-scan - govulncheck + npm audit
3. secret-scan - TruffleHog + Gitleaks
4. container-scan - Trivy + Grype
5. config-scan - Checkov + Docker/Nginx validation
6. test-environment-secrets - Multi-environment validation
7. security-report - Summary generation
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ **Multiple security scanners** –¥–ª—è redundancy
- ‚úÖ **SARIF integration** —Å GitHub Security tab
- ‚úÖ **Daily cron schedule** (02:00 UTC)
- ‚úÖ **Environment-specific secret validation**

**3. `deploy-environments.yml` (13KB) - Multi-environment deployment**

**4. `release.yml` - Automated releases**

**5. `docs-deploy.yml` - Documentation deployment**

**6. `update-status.yml` - Status page updates**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:**

- ‚úÖ Comprehensive CI/CD pipeline
- ‚úÖ Security-first approach
- ‚ö†Ô∏è **Node version inconsistency**: ci.yml uses 20.18.0 and 22.14.0 in
  different jobs -‚ö†Ô∏è **Go version**: GOTOOLCHAIN override –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### 2.2 Dependabot

#### `.github/dependabot.yml` (27 —Å—Ç—Ä–æ–∫)

```yaml
Update schedules:
  - github-actions: Weekly (Monday, 05:00 UTC)
  - npm: Weekly
  - gomod (auth/): Weekly
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Good configuration, limited PR count (5 for npm)

### 2.3 Branch Protection

#### `.github/settings.yml` (58 —Å—Ç—Ä–æ–∫)

```yaml
Protected branches: main, develop

Required checks:
  - Code Quality
  - Go Lint (golangci-lint)
  - Test Go Service
  - Test JS/TS Stack
  - Security Scan
  - Check Documentation Links
  - Docker Build

Settings:
  - 2 required approvals
  - Dismiss stale reviews: true
  - CODEOWNERS reviews required
  - Linear history required
  - Signed commits required
  - No force pushes
  - No deletions
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –û—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ - enterprise-grade

---

## üêç 3. Backend –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 3.1 Go Service (auth/)

#### `auth/go.mod` (54 —Å—Ç—Ä–æ–∫–∏)

```go
module github.com/DIZ-admin/erni-ki/auth

go 1.24.0
toolchain go1.24.10

Dependencies:
- github.com/gin-gonic/gin v1.11.0
- github.com/golang-jwt/jwt/v5 v5.3.0
- github.com/google/uuid v1.6.0
+ 35 indirect dependencies
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Go 1.24, –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### `.golangci.yml` (182 —Å—Ç—Ä–æ–∫–∏, 4.3KB)

```yaml
Timeout: 5m
Tests: true

Enabled linters (40+):
  - errcheck, gosimple, govet, ineffassign, staticcheck, typecheck, unused
  - asciicheck, bodyclose, dogsled, dupl, durationcheck, errorlint
  - exhaustive, gochecknoinits, gochecknoglobals, gocognit, goconst
  - gocritic, gocyclo, godot, gofmt, gofumpt, goimports, gomodguard
  - goprintffuncname, gosec, lll, makezero, misspell, nakedret
  - nilerr, noctx, nolintlint, prealloc, predeclared, revive
  - rowserrcheck, sqlclosecheck, stylecheck, tparallel, unconvert
  - unparam, wastedassign, whitespace

Disabled linters:
  - cyclop, forbidigo, funlen, gci, godox, nestif, paralleltest
  - testpackage, varnamelen, wrapcheck, wsl
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- ‚úÖ **40+ enabled linters** - –æ—á–µ–Ω—å —Å—Ç—Ä–æ–≥–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ **gosec** –¥–ª—è security
- ‚ö†Ô∏è `godox` disabled - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ GitHub Issues

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Enterprise-grade linting configuration

### 3.2 Python Configuration

#### `ruff.toml` (49 —Å—Ç—Ä–æ–∫)

```toml
line-length = 100
target-version = "py311"

select = [
  "E",   # pycodestyle
  "F",   # pyflakes
  "W",   # warnings
  "I",   # isort
  "UP",  # pyupgrade (Python 3.11+)
  "B",   # bugbear
  "SIM", # simplifications
  "S",   # security (bandit)
  "C4",  # comprehensions
]

ignore = ["S101", "S311"]  # allow asserts, pseudo-random
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –±—ã—Å—Ç—Ä—ã–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Flake8 + Black + isort

#### `requirements-dev.txt` (351 bytes)

```
mkdocs>=1.6.1
mkdocs-material>=9.5.51
...
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Minimal dev dependencies, –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤ Go/TS

### 3.3 Database Configurations

**PostgreSQL:**

- Custom config: `conf/postgres-enhanced/postgresql.conf`
- Extension: pgvector –¥–ª—è vector search
- Monitoring: pg_stat_statements enabled

**Redis:**

- Config: `conf/redis/redis.conf`
- Features: Active defragmentation, persistence (RDB)

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Production-optimized configurations (–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã .gitignored)

---

## üé® 4. Frontend/TypeScript –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 4.1 TypeScript

#### `tsconfig.json` (62 —Å—Ç—Ä–æ–∫–∏)

```json
{
  "compilerOptions": {
    "target": "ES2022",
    "module": "ESNext",
    "moduleResolution": "bundler",
    "strict": true, // –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–æ–≥–æ—Å—Ç—å
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitReturns": true,
    "noUncheckedIndexedAccess": true,
    "exactOptionalPropertyTypes": true,
    "typecheck": true
  },
  "include": [
    "tests/**/*.ts",
    "types/**/*.d.ts",
    "playwright.config.ts",
    "vitest.config.ts"
  ],
  "exclude": ["node_modules", "dist", "auth", "data", "logs"]
}
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç—Ä–æ–≥–∞—è TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 4.2 ESLint

#### `eslint.config.js` (208 —Å—Ç—Ä–æ–∫) - **Flat Config**

```js
Plugins:
- @eslint/js
- @typescript-eslint
- eslint-plugin-security
- eslint-plugin-n (Node.js)
- eslint-plugin-promise

Security rules enabled:
- detect-unsafe-regex
- detect-buffer-noassert
- detect-eval-with-expression
- detect-possible-timing-attacks
- detect-pseudoRandomBytes

TypeScript rules:
- no-explicit-any: warn
- prefer-nullish-coalescing: error
- prefer-optional-chain: error
- consistent-type-definitions: interface
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π Flat Confignpm 9.x/ESLint 9.x), security-focused

### 4.3 Prettier

#### `.prettierrc.json` (32 —Å—Ç—Ä–æ–∫–∏)

```json
{
  "printWidth": 100,
  "tabWidth": 2,
  "semi": true,
  "singleQuote": true,
  "trailingComma": "es5",
  "arrowParens": "avoid",
  "endOfLine": "lf",
  "overrides": [
    { "files": "*.md", "options": { "proseWrap": "always", "printWidth": 80 } },
    { "files": "*.{yml,yaml}", "options": { "singleQuote": false } }
  ]
}
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, —Ä–∞–∑—É–º–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### 4.4 EditorConfig

#### `.editorconfig` (72 —Å—Ç—Ä–æ–∫–∏)

```ini
[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true
indent_style = space
indent_size = 2

[*.go]
indent_style = tab  # Go convention
indent_size = 4

[*.md]
trim_trailing_whitespace = false  # Markdown line breaks

[conf/fluent-bit/*.conf]
indent_size = 4
trim_trailing_whitespace = false  # Preserve structure
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –•–æ—Ä–æ—à–æ –ø—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤

---

## üß™ 5. Testing –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 5.1 Vitest

#### `vitest.config.ts` (119 —Å—Ç—Ä–æ–∫)

```ts
Test configuration:
- Provider: v8 coverage
- Reporters: text, json, html, lcov
- Thresholds: 90% coverage target
  - branches: 90%
  - functions: 90%
  - lines: 90%
  - statements: 90%

Execution:
- Pool: threads (multi-threading)
- Isolate: true (test isolation)
- Timeout: 10s (tests), 10s (hooks), 5s (teardown)

Test files:
- tests/unit/**/*.{test,spec}.{ts,js}
- tests/integration/**/*.{test,spec}.{ts,js}
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Aggressive coverage targets, modern testing setup

### 5.2 Playwright

#### `playwright.config.ts` (52 —Å—Ç—Ä–æ–∫–∏)

```ts
Features:
- Mock mode support (E2E_MOCK_MODE=true)
- Flexible base URL (PW_FORCE_HOST, PW_BASE_URL)
- SNI/IP mapping for testing
- Self-signed TLS support (ignoreHTTPSErrors: true)

Timeouts:
- Mock mode: 30s (tests), 10s (expect), 5s (actions)
- Real mode: 90s (tests), 30s (expect), 15s (actions)

Artifacts:
- trace: retain-on-failure
- screenshot: only-on-failure
- video: retain-on-failure

Projects: chromium only (Desktop Chrome)
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Well-configured for both mock and real E2E testing

---

## üîí 6. Security –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 6.1 Secret Scanning

#### `.gitleaks.toml` (35 —Å—Ç—Ä–æ–∫)

```toml
title = "ERNI-KI gitleaks config"

[allowlist]
paths = [
  ".secrets.baseline",
  "compose.yml.example",
  "examples/",
  "docs/reports/",
  "conf/searxng/settings.yml",
  ...
]

regexes = [
  "REDACTED",
  "hashed_secret"
]
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å allowlist –¥–ª—è false positives

### 6.2 Security Scanners

#### `.checkov.yml` (16 —Å—Ç—Ä–æ–∫)

```yaml
skip-check:
  - CKV_GHA_7 # workflow_dispatch inputs acceptable
  - CKV_DOCKER_2 # HEALTHCHECK not required for all
  - CKV_DOCKER_3 # Non-root user in progress
```

**–û—Ü–µ–Ω–∫–∞:** ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã, –Ω—É–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å

#### `.snyk` (63 —Å—Ç—Ä–æ–∫–∏)

```yaml
version: v1.25.0

language-settings:
  javascript:
    includeDevDependencies: false # Exclude dev deps from prod scanning

  docker:
    excludeBaseImageVulns: false # Scan all vulnerabilities
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Production-focused configuration

### 6.3 Pre-commit Hooks

#### `.pre-commit-config.yaml` (400 —Å—Ç—Ä–æ–∫)

```yaml
? 20+ hooks configured

File checks:
  - trailing-whitespace
  - end-of-file-fixer
  - check-added-large-files (500KB)
  - check-merge-conflict
  - check-case-conflict

Validation:
  - check-yaml, check-json, check-toml
  - prettier formatting
  - ruff (Python lint + format)
  - eslint (TypeScript/JavaScript)

Security:
  - detect-secrets (Yelp)
  - check-todo-fixme (inline task markers)

Local hooks:
  - ts-type-check (TypeScript type checking)
  - docker-compose-check
  - gofmt, goimports
  - status-snippet-check
  - archive-readme-check
  - markdownlint-cli2
  - visuals-and-links-check
  - check-temporary-files
  - validate-docs-metadata
  - forbid-numbered-copies (Finder duplicates)
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Comprehensive, enterprise-grade pre-commit setup

### 6.4 Commit Validation

#### `commitlint.config.cjs` (135 —Å—Ç—Ä–æ–∫)

```js
Extends: @commitlint/config-conventional

Types (15):
- feat, fix, docs, style, refactor, perf, test
- chore, ci, build, revert, security, deps, config
- docker, deploy

Scopes (20):
- auth, nginx, docker, compose, ci, docs, config
- monitoring, security, ollama, openwebui, postgres
- redis, searxng, cloudflare, tika, edgetts
- mcposerver, watchtower, deps, tests, lint, format

Rules:
- header-max-length: 100
- body-max-line-length: 100
- subject: no sentence-case/start-case
- type and scope: lowercase
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Strict conventional commits –¥–ª—è automated releases

---

## üìö 7. Documentation –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### 7.1 MkDocs

#### `mkdocs.yml` (541 —Å—Ç—Ä–æ–∫–∞, 23KB)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Enterprise-grade documentation

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

- **Multi-language support**: Russian (default), Deutsch, English
- **Material theme** —Å dark/light mode
- **Navigation**: tabs, sections, expand, path, indexes
- **Search**: suggest, highlight, share (3 languages)
- **Plugins** (10):
  ```
  - search (multi-language)
  - awesome-pages
  - blog (with categories)
  - include-markdown
  - i18n (folder structure)
  - minify
  - git-revision-date-localized
  ```

**Markdown Extensions (20+):**

```
- abbr, admonition, attr_list, def_list, footnotes
- md_in_html, toc (with permalinks)
- pymdownx.arithmatex (MathJax)
- pymdownx.emoji (Material icons)
- pymdownx.highlight (line numbers)
- pymdownx.superfences (Mermaid diagrams)
- pymdownx.tabbed, pymdownx.tasklist
```

**Navigation Structure:**

```
- Home, Overview, Glossary
- Quick Start (8 pages)
- Architecture (4 pages)
- Academy KI (5+ pages)
- System Status
- Operations (30+ pages)
  ‚îú‚îÄ‚îÄ Core (6 pages)
  ‚îú‚îÄ‚îÄ Monitoring (7 pages)
  ‚îú‚îÄ‚îÄ Automation (3 pages)
  ‚îú‚îÄ‚îÄ Maintenance (6 pages)
  ‚îú‚îÄ‚îÄ Troubleshooting
  ‚îú‚îÄ‚îÄ Database (7 pages)
  ‚îî‚îÄ‚îÄ Diagnostics
- Data & Storage
- Security (5 pages)
- Reference (10+ pages)
- Reports & Archive (30+ pages)
```

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ –ü–æ—Ç—Ä—è—Å–∞—é—â–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, 250+ —Å—Ç—Ä–∞–Ω–∏—Ü

---

## üîß 8. Specialized Service Configurations

### 8.1 LiteLLM

#### `conf/litellm/config.yaml` (247 —Å—Ç—Ä–æ–∫, 8.9KB)

**–°—Ç–∞—Ç—É—Å:** ‚úÖ Comprehensive LLM proxy configuration

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

**Router Settings:**

```yaml
num_retries: 3
timeout: 600
routing_strategy: 'usage-based-routing-v2'
enable_fallbacks: true
cooldown_time: 30
allowed_fails: 3
context_window_fallbacks: [] # Auto-switch to larger context models
```

**Database & Storage:**

```yaml
store_model_in_db: true # All models in database
store_prompts_in_spend_logs: true # Detailed logging
store_audit_logs_in_db: true
redact_user_api_key_info: false # For debugging
```

**Logging:**

```yaml
detailed_debug: true
log_raw_request: true
log_raw_response: true
disable_health_check_logs: true # Reduce noise
log_level: 'DEBUG'
```

**Caching:**

```yaml
cache: true
cache_params:
  type: 'local' # In-memory (Redis has bug in v1.80.0.rc.1)
  ttl: 1800 # 30 minutes
  supported_call_types:
    [acompletion, atext_completion, aembedding, atranscription]
```

**OpenAI Passthrough:**

```yaml
enable_openai_passthrough: true
allowed_routes:
  - /v1/assistants*
  - /v1/threads*
  - /v1/threads/*/messages*
  - /v1/threads/*/runs*
```

**Thinking Tokens Support:**

```yaml
ignore_unknown_fields: true
ollama_ignore_thinking: true
enable_thinking_tokens: true
thinking_as_response: true
ollama_thinking_mode: 'stream'
```

**vLLM Integration:**

```yaml
vllm_compatibility_mode: true
vllm_enable_prefix_caching: true
vllm_request_timeout: 600
vllm_enable_streaming: true
```

**Performance:**

```yaml
max_parallel_requests: 20 # Limit concurrent to reduce memory peaks
connection_pool:
  max_connections: 100
  max_overflow: 20
  pool_timeout: 30
  pool_recycle: 3600
```

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏:**

- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è production LLM proxy
- ‚ö†Ô∏è **Redis caching disabled** –∏–∑-–∑–∞ bug –≤ LiteLLM v1.80.0.rc.1
- ‚úÖ Fallback –Ω–∞ local (in-memory) caching
- ‚ö†Ô∏è **hardcoded socket_timeout: 5.0** –≤ Redis config - known issue

**–û—Ü–µ–Ω–∫–∞:** ‚úÖ Very comprehensive, production-ready configuration

### 8.2 Prometheus/Grafana

**Prometheus:**

- Config: `conf/prometheus/prometheus.yml` (gitignored)
- Alerts: `conf/prometheus/alert_rules.yml`, `alerts.yml`, `logging-alerts.yml`
- Retention: 30 days, 10GB max

**Grafana:**

- Provisioning: `conf/grafana/provisioning/`
- Dashboards: `conf/grafana/dashboards/`
- Password: Docker secret

**–û—Ü–µ–Ω–∫–∞:** ‚ö†Ô∏è –ú–Ω–æ–≥–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ gitignored - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –¥–ª—è
–∫–æ–º–∞–Ω–¥—ã

---

## ‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ö–æ–¥–∫–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ Critical Issues

1. **Gitignored Production Configs**
   - `conf/prometheus/prometheus.yml` –∏ –¥—Ä—É–≥–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
   - **–†–∏—Å–∫:** –ü–æ—Ç–µ—Ä—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∏–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å `.example` —Ñ–∞–π–ª—ã –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å templates

2. **Redis Caching Bug**
   - LiteLLM v1.80.0.rc.1 –∏–º–µ–µ—Ç hardcoded `socket_timeout: 5.0`
   - **Impact:** Redis caching –æ—Ç–∫–ª—é—á–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ local cache
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å upstream fix –∏ –æ–±–Ω–æ–≤–∏—Ç—å LiteLLM

3. **Node.js Version Inconsistency**
   - CI workflows –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ Node (20.18.0 vs 22.14.0)
   - **–†–∏—Å–∫:** –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é (22.14.0 –∏–∑ package.json)

### ‚ö†Ô∏è Warnings

4. **Docker Image Versioning**
   - –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—Ä–∞–∑—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `latest` tag (redis:7-alpine)
   - **–†–∏—Å–∫:** –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** Pin —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–ª—è –≤—Å–µ—Ö production —Å–µ—Ä–≤–∏—Å–æ–≤

5. **Disabled Security Checks**
   - Checkov: CKV_DOCKER_3 (non-root user) disabled
   - **–†–∏—Å–∫:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ—Ç root
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–æ–∑–¥–∞—Ç—å task –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ non-root users

6. **Go Toolchain Override**
   - `GOTOOLCHAIN: go1.24.10` –º–æ–∂–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å go.mod
   - **–†–∏—Å–∫:** –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–π Go
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å go.mod toolchain

### ‚úÖ Best Practices

7. **Excellent Practices Found:**
   - ‚úÖ Comprehensive security scanning (5+ tools)
   - ‚úÖ Multi-tier logging strategy
   - ‚úÖ Docker secrets –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - ‚úÖ Pre-commit hooks (20+ –ø—Ä–æ–≤–µ—Ä–æ–∫)
   - ‚úÖ Conventional commits —Å automated releases
   - ‚úÖ Multi-language documentation
   - ‚úÖ 90% coverage targets –¥–ª—è —Ç–µ—Å—Ç–æ–≤
   - ‚úÖ Branch protection —Å signed commits
   - ‚úÖ GPU resource management

---

## üìä –ú–∞—Ç—Ä–∏—Ü–∞ –∑—Ä–µ–ª–æ—Å—Ç–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

| –û–±–ª–∞—Å—Ç—å            | –û—Ü–µ–Ω–∫–∞      | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                                              |
| ------------------ | ----------- | -------------------------------------------------------- |
| **Docker/Compose** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  | Excellent: 30+ —Å–µ—Ä–≤–∏—Å–æ–≤, 4-tier logging, GPU support     |
| **CI/CD**          | ‚≠ê‚≠ê‚≠ê‚≠ê¬Ω   | Very Good: Comprehensive pipelines, minor version issues |
| **Security**       | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  | Excellent: Multiple scanners, pre-commit hooks           |
| **Linting**        | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  | Excellent: Go (40+ linters), TS, Python (Ruff)           |
| **Testing**        | ‚≠ê‚≠ê‚≠ê‚≠ê ‚≠ê | Excellent: Vitest, Playwright, 90% coverage              |
| **Documentation**  | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  | Excellent: MkDocs, 250+ pages, 3 languages               |
| **Monitoring**     | ‚≠ê‚≠ê‚≠ê‚≠ê    | Very Good: Prometheus/Grafana, some configs gitignored   |
| **Secrets**        | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  | Excellent: Docker secrets, env templates                 |

**Overall Score: 4.8/5 ‚≠ê**

---

## üìù –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### P0 - –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

1. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å gitignored –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**
   - –°–æ–∑–¥–∞—Ç—å `.example` —Ñ–∞–π–ª—ã –¥–ª—è –≤—Å–µ—Ö gitignored configs
   - –î–æ–±–∞–≤–∏—Ç—å README —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é

2. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å Node.js –≤–µ—Ä—Å–∏–∏**
   - –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ CI workflows –Ω–∞ Node 22.14.0
   - –û–±–Ω–æ–≤–∏—Ç—å pre-commit hooks

### P1 - –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞)

3. **Docker Image Pinning**
   - –ó–∞–º–µ–Ω–∏—Ç—å `latest` tags –Ω–∞ —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
   - –û–±–Ω–æ–≤–∏—Ç—å Watchtower –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é

4. **Security Improvements**
   - –°–æ–∑–¥–∞—Ç—å plan –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–∞ non-root users
   - –í–∫–ª—é—á–∏—Ç—å CKV_DOCKER_3 –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

5. **Redis Caching Fix**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å LiteLLM upstream fix
   - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### P2 - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ –∫–≤–∞—Ä—Ç–∞–ª–∞)

6. **Go Toolchain Alignment**
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å GOTOOLCHAIN —Å go.mod
   - –û–±–Ω–æ–≤–∏—Ç—å CI workflows

7. **Documentation Improvements**
   - –î–æ–±–∞–≤–∏—Ç—å architecture diagrams –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –°–æ–∑–¥–∞—Ç—å troubleshooting guides –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
–í—Å–µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤: 40+

–ü–æ —Ç–∏–ø–∞–º:
- Docker/Compose: 5 —Ñ–∞–π–ª–æ–≤
- CI/CD: 6 workflows + dependabot + settings
- TypeScript: 3 (tsconfig, eslint, prettier)
- Python: 1 (ruff.toml)
- Go: 2 (go.mod, .golangci.yml)
- Testing: 2 (vitest, playwright)
- Security: 4 (.checkov, .gitleaks, .snyk, .secrets.baseline)
- Pre-commit: 1 (400 —Å—Ç—Ä–æ–∫)
- Documentation: 1 (mkdocs.yml - 541 —Å—Ç—Ä–æ–∫–∞)
- Editor: 1 (.editorconfig)
- Git: 3 (.gitignore, .gitattributes, .github/settings.yml)
- Specialized: 10+ (Nginx, LiteLLM, Prometheus, etc.)

–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π: ~150KB

LOC –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö:
- compose.yml: 1274 —Å—Ç—Ä–æ–∫–∏
- mkdocs.yml: 541 —Å—Ç—Ä–æ–∫–∞
- ci.yml: 463 —Å—Ç—Ä–æ–∫–∏
- .pre-commit-config.yaml: 400 —Å—Ç—Ä–æ–∫–∏
- security.yml: 349 —Å—Ç—Ä–æ–∫–∏
- litellm/config.yaml: 247 —Å—Ç—Ä–æ–∫–∏
- nginx.conf: 209 —Å—Ç—Ä–æ–∫–∏
- eslint.config.js: 208 —Å—Ç—Ä–æ–∫–∏
```

### Coverage & Quality

```
Test Coverage Target: 90% (–≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏)
Linters:
- Go: 40+ linters (golangci-lint)
- TypeScript: ESLint 9 (flat config) + security plugin
- Python: Ruff (combines 10+ tools)
- Markdown: markdownlint-cli2

Security Scanners:
- CodeQL (Go + JavaScript)
- Gosec (Go)
- Trivy (containers + filesystem)
- Grype (containers)
- Checkov (IaC)
- TruffleHog (secrets)
- Gitleaks (secrets)
- detect-secrets (baseline)
- npm audit (dependencies)
- govulncheck (Go dependencies)
```

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç **ERNI-KI** –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç **–æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∑—Ä–µ–ª–æ—Å—Ç–∏** –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
–∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç enterprise-grade –ø–æ–¥—Ö–æ–¥ –∫
—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞:

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - multiple layers of security scanning
2. **–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞** - —Å—Ç—Ä–æ–≥–∏–µ linters –∏ 90% coverage targets
3. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - comprehensive CI/CD –∏ pre-commit hooks
4. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - 250+ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞ 3 —è–∑—ã–∫–∞—Ö
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –ø–æ–ª–Ω—ã–π stack Prometheus/Grafana/Loki
6. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - GPU optimization, caching, rate limiting

**–ù–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã** —è–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –∏ –ª–µ–≥–∫–æ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º—ã–º–∏. –ü—Ä–æ–µ–∫—Ç
–≥–æ—Ç–æ–≤ –∫ production deployment —Å **–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∞–º–∏**.

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π action plan:**

1. –ù–µ–¥–µ–ª—è 1: P0 –∑–∞–¥–∞—á–∏ (gitignored configs, Node version)
2. –ù–µ–¥–µ–ª–∏ 2-4: P1 –∑–∞–¥–∞—á–∏ (Docker pinning, security improvements)
3. –ö–≤–∞—Ä—Ç–∞–ª: P2 –∑–∞–¥–∞—á–∏ (toolchain, documentation)

**Final Rating: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (4.8/5)**

---

**–û—Ç—á–µ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª:** Senior Full-Stack Engineer **–î–∞—Ç–∞:** 2025-11-25
**–í–µ—Ä—Å–∏—è:** 1.0

---

language: ru translation_status: complete doc_version: '2025.11' last_updated:
'2025-11-25' audit_type: 'configuration' audit_scope: 'configuration-files'
auditor: 'Senior Full-Stack Engineer'

---

# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º —Ñ–∞–π–ª–∞–º –ø—Ä–æ–µ–∫—Ç–∞ ERNI-KI
