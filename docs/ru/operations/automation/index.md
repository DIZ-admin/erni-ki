---
language: ru
translation_status: complete
doc_version: '2025.11'
last_updated: '2025-11-24'
---

# Автоматизация операционных задач ERNI-KI

Раздел описывает регламенты и скрипты, которые помогают поддерживать кластеры
ERNI-KI без ручного вмешательства. Используйте этот индекс, чтобы быстро найти
процедуру очистки, обслуживания или регулярных проверок.

## Ключевые документы

- [automated-maintenance-guide.md](automated-maintenance-guide.md) — расписание
  ежедневных/еженедельных задач, контроль watchdog-скриптов, политика
  автозапуска Cron/ systemd таймеров.
- [docker-cleanup-guide.md](docker-cleanup-guide.md) — автоматическая очистка
  Docker images/volumes, ротация зависших контейнеров, рекомендации по ресурсам.
- [docker-log-rotation.md](docker-log-rotation.md) — настройка logrotate и
  Fluent Bit для контейнерных логов, параметры хранения и мониторинга
  переполнений.

## Когда обращаться к разделу

- Регулярные профилактические работы перед релизом.
- Подготовка новой среды (dev/stage/prod) с теми же автоматизациями.
- Настройка alerting на Cron/maintenance задачи.

**Совет:**после выполнения автоматизированной процедуры зафиксируйте результат в
`docs/operations/maintenance/index.md` или в тикете сопровождения.

## Контроль исправности автоматизации

1. Раз в сутки проверяйте `logs/maintenance/*.log` на ошибки и длительность.
2. Prometheus правило `CronJobFailed` должно иметь SLA ≤ 1% недоступности.
3. Все скрипты запускаются через `systemd` юниты; используйте
   `systemctl status erni-maintenance@*` перед релизом.

## Вклад в библиотеку автоматизации

- Скрипты размещаем в `scripts/automation/` с префиксом `erni-`.
- Добавляйте dry-run режим, чтобы проверять изменения перед применением.
- Обновляйте соответствующий раздел этого README и связывайте скрипт с runbook.

Обновляйте README при добавлении новых сценариев автоматизации.
