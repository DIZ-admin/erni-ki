# üîß –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ Tesseract OCR –≤ Docling

> **–î–∞—Ç–∞:** 2025-01-04  
> **–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û  
> **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 25 –º–∏–Ω—É—Ç  

## üìã –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ Tesseract OCR –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `erni-ki-docling-1` –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–∞–π–ª–∞ `osd.traineddata` (Orientation and Script Detection).

**–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ EasyOCR —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –û—à–∏–±–∫–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ò—Å—Ö–æ–¥–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
```
ERROR:docling.models.tesseract_ocr_cli_model:OSD failed
Error opening data file /usr/share/tesseract/tessdata/osd.traineddata
Please make sure the TESSDATA_PREFIX environment variable is set to your "tessdata" directory.
Failed loading language 'osd'
Tesseract couldn't load any languages!
Could not initialize tesseract.
```

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω
1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ñ–∞–π–ª–∞ `osd.traineddata`** –≤ `/usr/share/tesseract/tessdata/`
2. **–ù–µ–ø–æ–ª–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Tesseract** - —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç —Å –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —è–∑—ã–∫–æ–º
3. **–ü–æ–ø—ã—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è OSD** (Orientation and Script Detection) –±–µ–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
4. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∫–∞–∂–¥–æ–≥–æ PDF –¥–æ–∫—É–º–µ–Ω—Ç–∞

### –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```bash
# –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ tessdata
total 4040
-rw-r--r-- 1 root root 4113088 Oct 30  2019 eng.traineddata  # –¢–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
-rw-r--r-- 1 root root     572 Dec 26  2019 pdf.ttf
# osd.traineddata - –û–¢–°–£–¢–°–¢–í–£–ï–¢
```

---

## üîß –ü—Ä–∏–º–µ–Ω–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### 1. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ EasyOCR
**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞:**
- ‚úÖ –ë–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π OCR –¥–≤–∏–∂–æ–∫
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- ‚úÖ –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –£–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ Docling

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `env/docling.env`

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Docling
DOCLING_SERVE_ENABLE_UI=true

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
DOCLING_SERVE_MAX_WORKERS=4
DOCLING_SERVE_TIMEOUT=300

# OCR –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ Tesseract)
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ EasyOCR –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å osd.traineddata
DOCLING_OCR_ENGINE=easyocr
DOCLING_DISABLE_OSD=true
DOCLING_TESSERACT_DISABLE_OSD=true

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ OCR
DOCLING_OCR_CONFIDENCE_THRESHOLD=0.5
DOCLING_OCR_BATCH_SIZE=1

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
DOCLING_LOG_LEVEL=INFO

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
DOCLING_SERVE_MAX_FILE_SIZE=100MB

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è OCR –¥–≤–∏–∂–∫–æ–≤
# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π Tesseract
TESSERACT_DISABLE_OSD=1
TESSERACT_SKIP_OSD=1

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ EasyOCR
EASYOCR_GPU=false
EASYOCR_VERBOSE=false
EASYOCR_LANG_LIST=en
EASYOCR_DOWNLOAD_ENABLED=false

# –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
DOCLING_PIPELINE_OCR_ENABLED=true
DOCLING_PIPELINE_OCR_FALLBACK=true

# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
DOCLING_DEFAULT_LANG=en
DOCLING_OCR_LANGUAGES=en
DOCLING_FORCE_SINGLE_LANG=true

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞
DOCLING_AUTO_LANG_DETECT=false
```

### 3. –ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **OCR –¥–≤–∏–∂–æ–∫:** Tesseract ‚Üí EasyOCR
- **–Ø–∑—ã–∫–∏:** –¢–æ–ª—å–∫–æ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (en)
- **OSD:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω
- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞:** –û—Ç–∫–ª—é—á–µ–Ω–æ
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
```
NAMES               STATUS                            PORTS
erni-ki-docling-1   Up 2 minutes (healthy)           0.0.0.0:5001->5001/tcp
```

### API —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
```bash
# Health Check
curl http://localhost:5001/health
{"status":"ok"}

# –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞: < 0.1s
```

### –¢–µ—Å—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
**–í—Ö–æ–¥–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç:** HTML —Å —Ä—É—Å—Å–∫–∏–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–º —Ç–µ–∫—Å—Ç–æ–º, —Ç–∞–±–ª–∏—Ü–µ–π
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ Markdown
```markdown
# –¢–µ—Å—Ç OCR —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ OCR.

This document contains English text for OCR testing.

| –ö–æ–ª–æ–Ω–∫–∞ 1   | –ö–æ–ª–æ–Ω–∫–∞ 2   |
|-------------|-------------|
| –î–∞–Ω–Ω—ã–µ 1    | –î–∞–Ω–Ω—ã–µ 2    |
```

### –õ–æ–≥–∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```
INFO:     Started server process [1]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:5001
```
**‚úÖ –û—à–∏–±–∫–∏ Tesseract –ø–æ–ª–Ω–æ—Å—Ç—å—é —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã!**

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenWebUI
```bash
# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
DOCLING_SERVER_URL=http://docling:5001
CONTENT_EXTRACTION_ENGINE=docling
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è | –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è |
|----------|----------------|-------------------|
| **–û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö** | –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ ERROR | ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç |
| **OCR –¥–≤–∏–∂–æ–∫** | Tesseract (–ø—Ä–æ–±–ª–µ–º–Ω—ã–π) | EasyOCR (—Å—Ç–∞–±–∏–ª—å–Ω—ã–π) |
| **–Ø–∑—ã–∫–æ–≤—ã–µ —Ñ–∞–π–ª—ã** | –ù–µ–ø–æ–ª–Ω—ã–µ | ‚úÖ –ù–µ —Ç—Ä–µ–±—É—é—Ç—Å—è |
| **OSD —Ñ—É–Ω–∫—Ü–∏—è** | –û—à–∏–±–∫–∏ | ‚úÖ –û—Ç–∫–ª—é—á–µ–Ω–∞ |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤** | –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ |
| **–í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ API** | < 0.1s | ‚úÖ < 0.1s (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ) |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è OpenWebUI** | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ | ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ |

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ü–µ–ª–∏
1. **–£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –æ—à–∏–±–∫–∏ Tesseract OCR** - –ª–æ–≥–∏ —á–∏—Å—Ç—ã–µ
2. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π EasyOCR
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞** - OpenWebUI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å:** EasyOCR –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–µ–Ω —á–µ–º Tesseract
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞:** –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

### üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –ù–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
3. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** üü¢ **–ü–†–û–ë–õ–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–®–ï–ù–ê**
