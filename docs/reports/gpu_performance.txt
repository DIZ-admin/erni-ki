[0;35m
╔══════════════════════════════════════════════════════════════╗
║                    GPU Performance Test                     ║
║              Тестирование производительности GPU            ║
╚══════════════════════════════════════════════════════════════╝
[0m
[0;35m🔍 Проверка доступности GPU[0m
[0;32m✅ nvidia-smi доступен[0m
[0;32m✅ GPU: QuadroP2200[0m
[0;32m✅ Драйвер: 550.144.03[0m
[0;32m✅ Память: 5120 MB[0m
[0;32m✅ Compute Capability: 6.1[0m
[0;32m✅ Температура: 42°C[0m
[0;32m✅ Энергопотребление: 9.39W / 75.00W[0m

[0;35m🔍 Проверка GPU в Docker контейнерах[0m
[0;34m[2025-06-30 14:50:14][0m Проверка GPU в Ollama...
[1;33m⚠️  Ollama может не использовать GPU[0m
[0;34m[2025-06-30 14:50:14][0m Процессы, использующие GPU:
[0;32m✅   1599323, /usr/bin/ollama, 3710 MiB[0m

[0;35m🔍 Тестирование производительности генерации текста[0m
[0;32m✅ Ollama API доступен[0m
[0;32m✅ Тестирование с моделью: llama3.2:3b[0m
[0;34m[2025-06-30 14:50:14][0m Тест 1: Короткий промпт
[0;32m✅ Время генерации (короткий): .845999486s[0m
[0;32m✅ Скорость: 16.5 токенов/сек[0m
[0;34m[2025-06-30 14:50:15][0m Тест 2: Длинный промпт
[0;32m✅ Время генерации (длинный): 34.125620971s[0m
[0;32m✅ Скорость: 18.7 токенов/сек[0m
[0;34m[2025-06-30 14:50:49][0m Тест 3: Параллельные запросы (3 одновременно)
[0;32m✅ Завершено запросов: 3/3[0m
[0;32m✅ Общее время: 1.399044910s[0m
[0;32m✅ Среднее время на запрос: 2s[0m

[0;35m🔍 Мониторинг использования GPU[0m
[0;34m[2025-06-30 14:50:51][0m Запуск мониторинга GPU на 30 секунд...
[0;34m[2025-06-30 14:50:51][0m Выполнение тестовой нагрузки...
[0;34m[2025-06-30 14:52:31][0m Анализ результатов мониторинга:
[0;32m✅ Максимальная загрузка GPU: 76%[0m
[0;32m✅ Средняя загрузка GPU: 60.1%[0m
[0;32m✅ Максимальное использование памяти: 4483 MB[0m
[0;32m✅ Максимальная температура: 62°C[0m
[0;32m✅ Максимальное энергопотребление: 72.08W[0m

[0;35m🔍 Сравнение производительности CPU vs GPU[0m
[0;36mℹ️  Исторические данные CPU (из предыдущих тестов):[0m
[0;36mℹ️    Время генерации на CPU: ~2.5s[0m
[0;36mℹ️    Режим работы: CPU-only[0m
[0;34m[2025-06-30 14:52:31][0m Текущая производительность GPU:
[0;32m✅ Время генерации на GPU: 74.916679368s[0m
[1;33m⚠️  GPU медленнее CPU в .03x раз[0m
[0;32m✅ Скорость генерации: 13.5 токенов/сек[0m

[0;35m🔍 Отчет производительности GPU[0m
[0;32m✅ GPU: Доступен и работает[0m
[0;32m✅ Ollama: Использует GPU[0m
[0;32m✅ Память GPU: Активно используется (4480 MB)[0m
[0;32m✅ Температура GPU: Нормальная (67°C)[0m
[0;32m✅ Производительность: GPU генерирует текст[0m

[0;32m✅ ИТОГОВАЯ ОЦЕНКА GPU: 100% - Отлично[0m

[0;36mℹ️  Рекомендации по оптимизации GPU:[0m
  • Используйте более крупные модели для лучшего использования GPU
  • Мониторьте температуру GPU при высоких нагрузках
  • Рассмотрите обновление драйверов CUDA для лучшей производительности
  • Настройте лимиты памяти GPU в Docker Compose

[0;32m
╔══════════════════════════════════════════════════════════════╗
║            Тестирование GPU завершено                       ║
║         Результаты сохранены в gpu_performance.txt          ║
╚══════════════════════════════════════════════════════════════╝
[0m
