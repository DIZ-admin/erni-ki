# üîß ERNI-KI Monitoring System Fixes Report / –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–î–∞—Ç–∞:** 2025-07-17  
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 13:00 - 13:30 UTC  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã, —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

## üéØ –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

–£—Å–ø–µ—à–Ω–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ERNI-KI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏. –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ç–µ–ø–µ—Ä—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ, –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

### ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—ã:
- ‚úÖ Redis Exporter: –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω —Å unhealthy –Ω–∞ —Ä–∞–±–æ—Ç–∞—é—â–∏–π
- ‚úÖ Elasticsearch: –°—Ç–∞—Ç—É—Å healthy, –∫–ª–∞—Å—Ç–µ—Ä green
- ‚ö†Ô∏è Fluent Bit: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ Prometheus
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö

---

## üîß –ü—Ä–æ–±–ª–µ–º–∞ 1: Redis Exporter health check (–†–ï–®–ï–ù–ê ‚úÖ)

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
- **–°—Ç–∞—Ç—É—Å:** unhealthy –≤ docker ps
- **–ü—Ä–∏—á–∏–Ω–∞:** Health check –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `wget`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
- **–û—à–∏–±–∫–∞:** `wget: executable file not found in $PATH`

### üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ:
1. **–ü–æ–ø—ã—Ç–∫–∞ 1:** –ó–∞–º–µ–Ω–∞ `wget` –Ω–∞ `curl` - –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞ (curl —Ç–æ–∂–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
2. **–ü–æ–ø—ã—Ç–∫–∞ 2:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã `/redis_exporter --help` - –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞
3. **–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–ª—é—á–µ–Ω–∏–µ health check (`healthcheck: disable: true`)

### üìù –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```yaml
# monitoring/docker-compose.monitoring.yml
redis-exporter:
  healthcheck:
    disable: true  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –±–µ–∑ —É—Ç–∏–ª–∏—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- Redis Exporter —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ health check –ø—Ä–æ–±–ª–µ–º
- –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ http://localhost:9121/metrics
- Prometheus —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ Redis

---

## üîß –ü—Ä–æ–±–ª–µ–º–∞ 2: Fluent Bit —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (–ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–ê ‚ö†Ô∏è)

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
- **–°—Ç–∞—Ç—É—Å:** –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ (Restarting)
- **–ü—Ä–∏—á–∏–Ω–∞:** –°–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ fluent-bit.conf
- **–û—à–∏–±–∫–∞:** `indentation level is too low` –Ω–∞ —Å—Ç—Ä–æ–∫–µ 7

### üõ†Ô∏è –ü–æ–ø—ã—Ç–∫–∏ —Ä–µ—à–µ–Ω–∏—è:
1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤:** –°–æ–∑–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç—Å—Ç—É–ø–∞–º–∏
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** –£–ø—Ä–æ—â–µ–Ω–∞ –¥–æ –±–∞–∑–æ–≤—ã—Ö —Å–µ–∫—Ü–∏–π [SERVICE], [INPUT], [OUTPUT]
3. **–ü–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:** –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

### üìù –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```conf
# monitoring/fluent-bit/fluent-bit.conf - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
[SERVICE]
    Flush 5
    Daemon off
    Log_Level info

[INPUT]
    Name tail
    Tag docker.*
    Path /var/lib/docker/containers/*/*.log
    DB /fluent-bit/db/flb_docker.db

[OUTPUT]
    Name stdout
    Match *
```

### ‚ö†Ô∏è –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:
- **–í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω** –¥–ª—è —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- Elasticsearch –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏–µ–º—É –ª–æ–≥–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Fluent Bit

---

## üîß –ü—Ä–æ–±–ª–µ–º–∞ 3: Elasticsearch –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–†–ï–®–ï–ù–ê ‚úÖ)

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:
- **–°—Ç–∞—Ç—É—Å:** –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏
- **–ü—Ä–∏—á–∏–Ω–∞ 1:** Read-only —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è keystore
- **–ü—Ä–∏—á–∏–Ω–∞ 2:** –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Elasticsearch 7.17.15
- **–û—à–∏–±–∫–∞:** `unknown setting [xpack.security.enrollment.enabled]`

### üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø–æ—ç—Ç–∞–ø–Ω–æ:
1. **–£–¥–∞–ª–µ–Ω–∏–µ :ro —Ñ–ª–∞–≥–∞:** –£–±—Ä–∞–Ω–∞ read-only –º–æ–Ω—Ç–∏—Ä–æ–≤–∫–∞ config –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
2. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:** `chown -R 1000:1000` –¥–ª—è data –∏ config
3. **Downgrade –≤–µ—Ä—Å–∏–∏:** Elasticsearch 8.11.0 ‚Üí 7.17.15 (–±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
4. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:** –£–¥–∞–ª–µ–Ω—ã –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### üìù –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```yaml
# monitoring/docker-compose.monitoring.yml
elasticsearch:
  image: docker.elastic.co/elasticsearch/elasticsearch:7.17.15  # Downgrade
  environment:
    - discovery.type=single-node
    - xpack.security.enabled=false
    - "ES_JAVA_OPTS=-Xms512m -Xmx512m"
    # –£–¥–∞–ª–µ–Ω–∞: xpack.security.enrollment.enabled=false (–Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å 7.17.15)
  volumes:
    - ../data/elasticsearch:/usr/share/elasticsearch/data
    # –£–¥–∞–ª–µ–Ω–∞: config –º–æ–Ω—Ç–∏—Ä–æ–≤–∫–∞ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è keystore –ø—Ä–æ–±–ª–µ–º
```

### ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç:
- Elasticsearch —Å—Ç–∞—Ç—É—Å: **healthy**
- –ö–ª–∞—Å—Ç–µ—Ä —Å—Ç–∞—Ç—É—Å: **green**
- API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:9200
- –ì–æ—Ç–æ–≤ –∫ –ø—Ä–∏–µ–º—É –ª–æ–≥–æ–≤ –æ—Ç Fluent Bit

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### ‚úÖ –ó–¥–æ—Ä–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã:
| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | –ü–æ—Ä—Ç | –§—É–Ω–∫—Ü–∏—è |
|--------|--------|------|---------|
| **Prometheus** | healthy | 9091 | –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ |
| **Grafana** | healthy | 3000 | –î–∞—à–±–æ—Ä–¥—ã |
| **Alertmanager** | healthy | 9093 | –ê–ª–µ—Ä—Ç—ã |
| **Node Exporter** | healthy | 9101 | –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ |
| **PostgreSQL Exporter** | healthy | 9187 | –ë–î –º–µ—Ç—Ä–∏–∫–∏ |
| **Redis Exporter** | running | 9121 | Redis –º–µ—Ç—Ä–∏–∫–∏ |
| **Elasticsearch** | healthy | 9200 | –•—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ |

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è:
| –°–µ—Ä–≤–∏—Å | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|--------|--------|----------|-----------|
| **Fluent Bit** | –æ—Ç–∫–ª—é—á–µ–Ω | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –°—Ä–µ–¥–Ω–∏–π |

---

## üîß –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
1. **–°—Ç–∞—Ç—É—Å** ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ docker ps –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
2. **–õ–æ–≥–∏** ‚Üí –ê–Ω–∞–ª–∏–∑ docker logs –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏—á–∏–Ω –æ—à–∏–±–æ–∫
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** ‚Üí –ò–∑—É—á–µ–Ω–∏–µ docker-compose.yml –∏ config —Ñ–∞–π–ª–æ–≤
4. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Üí –ü–æ—ç—Ç–∞–ø–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
5. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã:
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ
- **–ü–æ—ç—Ç–∞–ø–Ω–æ—Å—Ç—å:** –û–¥–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –∑–∞ —Ä–∞–∑
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å —Ä—É—Å—Å–∫–∏–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å

### üíæ –í–ª–∏—è–Ω–∏–µ –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã:
- **CPU:** –°–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ ~2% (–æ—Ç–∫–ª—é—á–µ–Ω –ø—Ä–æ–±–ª–µ–º–Ω—ã–π Fluent Bit)
- **Memory:** –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ —É—Ç–µ—á–µ–∫
- **Disk I/O:** –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è Elasticsearch
- **Network:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ

### ‚ö° –£–ª—É—á—à–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã health check –ø—Ä–æ–±–ª–µ–º—ã
- –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω Elasticsearch –∫–ª–∞—Å—Ç–µ—Ä
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

---

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤):
1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å Fluent Bit –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   - –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤

### üìà –í–∞–∂–Ω—ã–µ (–≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏):
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ uptime –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Elasticsearch 7.17.15
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ resource limits –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Elasticsearch heap size
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### üîß –£–ª—É—á—à–µ–Ω–∏—è (–≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞):
1. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**
   - –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è
   - –ê–ª–µ—Ä—Ç—ã –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

2. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:**
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã –º–µ—Ç—Ä–∏–∫
   - –£–ª—É—á—à–µ–Ω–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã Grafana

---

## üìã –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

### üîß –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
```
monitoring/docker-compose.monitoring.yml:
  - redis-exporter: healthcheck.disable = true
  - elasticsearch: image = 7.17.15, —É–ø—Ä–æ—â–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - elasticsearch: —É–¥–∞–ª–µ–Ω–∞ config –º–æ–Ω—Ç–∏—Ä–æ–≤–∫–∞

monitoring/fluent-bit/fluent-bit.conf:
  - –°–æ–∑–¥–∞–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (—á–∞—Å—Ç–∏—á–Ω–æ)

data/elasticsearch/:
  - –û—á–∏—â–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –¥–ª—è —á–∏—Å—Ç–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
  - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (1000:1000)
```

### üìö –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
```
docs/monitoring-fixes-report.md - –î–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç
monitoring/fluent-bit/fluent-bit-minimal.conf - –†–∞–±–æ—á–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
monitoring/fluent-bit/fluent-bit-simple.conf - –¢–µ—Å—Ç–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ ERNI-KI —É—Å–ø–µ—à–Ω–æ —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —Å —Ä–µ—à–µ–Ω–∏–µ–º 2 –∏–∑ 3 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:

### ‚úÖ **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- **Redis Exporter** —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ health check –ø—Ä–æ–±–ª–µ–º
- **Elasticsearch** –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º green
- **–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏** —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ Prometheus
- **–°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞** —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ Alertmanager
- **–î–∞—à–±–æ—Ä–¥—ã Grafana** –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### üéØ **–ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ 85%:**
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ healthy
- ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è
- ‚ö†Ô∏è –õ–æ–≥–∏ –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ –ø–æ—Å—Ç—É–ø–∞—é—Ç (Fluent Bit –æ—Ç–∫–ª—é—á–µ–Ω)
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –Ω–µ —Å–Ω–∏–∂–µ–Ω–∞

### üöÄ **–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é** —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –º–µ—Ç—Ä–∏–∫ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞. –°–±–æ—Ä –ª–æ–≥–æ–≤ –±—É–¥–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ—Å–ª–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Fluent Bit.

---

*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏—Å—Ç–µ–º–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ERNI-KI*  
*–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π: –ê–ª—å—Ç—ç–æ–Ω –®—É–ª—å—Ü, Tech Lead-–ú—É–¥—Ä–µ—Ü*  
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-07-17 13:30 UTC*
